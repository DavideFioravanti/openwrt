. /lib/functions.sh

reset_i2c_led() {

	case $(board_name) in
	# netgear,rbr50|\
	# netgear,srr60|\
	netgear,srs60)
		# This section can be removed once the tlc59208f driver will be available.
		i2cset -y 0 0x27 0x0 0x01 # LED_MODE1_REG (SEEMS ALWAYS 0x01)
		i2cset -y 0 0x27 0x1 0x02 # LED_MODE0_REG (0x02 = ON, 0x22 = PULSE)
		i2cset -y 0 0x27 0x2 0xff # LED0_PWM
		i2cset -y 0 0x27 0x3 0xff # LED1_PWM
		i2cset -y 0 0x27 0x4 0xff # LED2_PWM
		i2cset -y 0 0x27 0x5 0xff # LED3_PWM
		i2cset -y 0 0x27 0x6 0xff # LED4_PWM
		i2cset -y 0 0x27 0x7 0xff # LED5_PWM
		i2cset -y 0 0x27 0x8 0xff # LED6_PWM
		i2cset -y 0 0x27 0x9 0xff # LED7_PWM
		i2cset -y 0 0x27 0xa 0xff # BLINK PWM
		i2cset -y 0 0x27 0xb 0x00 # BLINK FREQUENCY (0x00 = VERY QUICK PULSE -> 0xff VERY SLOW PULSE)
		i2cset -y 0 0x27 0xc 0x55 # GROUP_LEFT (0x00 = OFF PLAIN -> 0x55 = ON PLAIN, 0x56 = PULSE OFF -> 0xff = PULSE ON)
		i2cset -y 0 0x27 0xd 0x55 # GROUP_RIGHT (0x00 = OFF PLAIN -> 0x55 = ON PLAIN, 0x56 = PULSE OFF -> 0xff = PULSE ON)
		i2cset -y 0 0x27 0xe 0x92
		i2cset -y 0 0x27 0xf 0x94
		i2cset -y 0 0x27 0x10 0x98
		i2cset -y 0 0x27 0x11 0xd0
		;;
	esac
}

boot_hook_add preinit_main reset_i2c_led